import{_ as g}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Bdc2VVU4.js";import{_ as x}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-T41Zm9iO.js";import{o as r,c as n,d as e,F as _,f as b,t as l,r as u,k as f,g as y,h,l as k,n as v,j as m}from"./index-DRCwg4EZ.js";import{g as w,E as $}from"./endpoint-CWNBtn7N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"overflow-x-auto"},E={class:"w-full table-auto border-collapse"},N={class:"px-4 py-3"},P={class:"px-4 py-3"},B={class:"px-4 py-3"},I={class:"px-4 py-3"},S={class:"px-4 py-3"},T=["onClick"],U=["onClick"],V={__name:"userInfo",props:{users:{type:Array,default:()=>[]}},setup(p){return(d,o)=>(r(),n("div",C,[e("table",E,[o[0]||(o[0]=e("thead",null,[e("tr",{class:"bg-gray-100 dark:bg-gray-800 text-left"},[e("th",{class:"px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300"},"#"),e("th",{class:"px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300"},"Name"),e("th",{class:"px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300"},"Email"),e("th",{class:"px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300"},"Phone"),e("th",{class:"px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300"},"Actions")])],-1)),e("tbody",null,[(r(!0),n(_,null,b(p.users,(t,a)=>(r(),n("tr",{key:t._id,class:"border-b border-gray-200 dark:border-gray-700"},[e("td",N,l(a+1),1),e("td",P,l(t.name),1),e("td",B,l(t.email||"—"),1),e("td",I,l(t.phone||"—"),1),e("td",S,[e("button",{class:"text-blue-600 hover:underline mr-2",onClick:i=>d.$emit("view",t)}," View ",8,T),e("button",{class:"text-red-600 hover:underline",onClick:i=>d.$emit("delete",t._id)}," Delete ",8,U)])]))),128))])])]))}},A={class:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] lg:p-6"},D={key:1,class:"flex justify-center py-6"},O={__name:"UsersPage",setup(p){const d=u("Users"),o=u([]),t=u(!0),a=u({show:!1,type:"error",message:""});function i(s){a.value={show:!0,type:"error",message:s}}return f(async()=>{try{const s=await w($.USERS);if(!s||!s.users){i("Invalid API response");return}o.value=s.users}catch(s){i("Failed to load users"),console.error(s)}finally{t.value=!1}}),(s,c)=>(r(),y(g,null,{default:h(()=>[k(x,{pageTitle:d.value},null,8,["pageTitle"]),e("div",A,[c[1]||(c[1]=e("h3",{class:"mb-5 text-lg font-semibold text-gray-800 dark:text-white/90 lg:mb-7"}," Users ",-1)),a.value.show?(r(),n("div",{key:0,class:v(["rounded-lg p-4 mb-4",a.value.type==="success"?"border border-green-300 bg-green-50 text-green-700":"border border-red-300 bg-red-50 text-red-700"])},l(a.value.message),3)):m("",!0),t.value?(r(),n("div",D,c[0]||(c[0]=[e("span",{class:"animate-spin inline-block h-10 w-10 rounded-full border-4 border-slate-300 border-t-primary"},null,-1)]))):m("",!0),t.value?m("",!0):(r(),y(V,{key:2,users:o.value},null,8,["users"]))])]),_:1}))}};export{O as default};
